name: Update PBOC Data

on:
  schedule:
    - cron: '0 */6 * * *'   # Every 6 hours
  workflow_dispatch:        # Allow manual run

jobs:
  update:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Test IMF connectivity
        run: curl -I "https://dataservices.imf.org/REST/SDMX_JSON.svc/"

      - name: Fetch PBOC Total Assets (BIS SDMX)
        run: curl -L "https://stats.bis.org/api/v1/SDMX/JSON/data/BIS_CB/A.CN._X.T.A?detail=full" -o data/pboc.json